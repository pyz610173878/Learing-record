<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const log = console.log.bind(console)
        const dir = console.dir.bind(console)

        // this关键字是一个非常重要的语法点。毫不夸张地说，不理解它的含义，大部分开发任务都无法完成



        //1:涵义

        //所有使用this的返回值都是一个对象。(注意这个内涵)

        //最简单的情况::
        //例子1:
        var person = {
            name: '张三',
            describe: function () {
                return '姓名：' + this.name;
            }
        };
        person.describe()
        // 相当于 person.name


        var animal = {
            name: '大黄',
            brak: function () {
                return '喊叫' + this.name;
            }
        }


        function Bot() {
            this.name = '小爱';
            this.price = '';
            this.runs = function () {
                alert("欢迎使用小爱同学")
            }
        }
        Bot1 = new Bot();
        Bot1.name
        Bot1.price








        // 前提1 :   对象的属性可以赋给另一个对象，(因为存在类似的对象，那么有些属性就是相同的)
        //结论:      所以属性所在的当前对象是可变的，即this的指向是可变的 

        //例子1:
        var A = {
            name: '张三',
            describe: function () {
                return '姓名：' + this.name;
            }
        };

        var B = {
            name: '李四'
        };

        B.describe = A.describe;
        // B.describe()
        // "姓名：李四"

        //进一步猜想:
        //













        //时刻注意this的指向
        //第三种情况:
        //只要函数被赋给另一个变量，this的指向就会变
        //例子

        var person = {
            name: '张三',
            describe: function () {
                return '姓名：' + this.name;
            }
        };

        var name = 'Object';  //这个相当于 为 object对象 添加name属性 属性名为李四
        dir(Object.name)
        var f = person.describe;
        f()
        // dir(f()) // "姓名：李四"
        //上面代码中，A.describe被赋值给变量f，内部的this就会指向f运行时所在的对象（本例是顶层对象)






        //3.使用场合

        //this关键字的几个使用场合


        //（1）全局环境 
        //全局环境使用this，它指的就是顶层对象window

        //上面代码说明，不管是不是在函数内部，只要是在全局环境下运行，this就是指顶层对象window

        this === window // true

        function f() {
            console.log(this === window);
        }
        f() // true


        //构造函数(重点)

        //构造函数中的this，指的是实例对象

        function Bot(name, price) {
            this.name = name;
            this.price = price;
            this.runs = function () {
                alert("欢迎使用小爱同学")
            }
        }
        Bot1 = new Bot('小爱', '999');  // 创造实例对象时，必须赋值
        log()
        log(Bot1.name)
        log(Bot1.price)















        //（3）对象的方法
        //但是this的指向是动态的

        //如果this所在的方法不在对象的第一层，这时this只是指向当前一层的对象，而不会继承更上面的层



    </script>
</body>

</html>