

### 7.  异步操作

## 7.2  定时器

### 1.  setTimeout()

  实例:

```javascript
var timerId = setTimeout(func|code, delay);

参数:
1.  推迟执行的函数或者代码。
2.  推迟执行的时间，单位是毫秒,默认值为0

例子：
        function callback() {
            console.log('爆炸了');
        }


        var timer1 = setTimeout(callback, 3000);
		3000毫秒后执行此函数中的代码块。
        
例子2: 允许更多的参数。它们将依次传入推迟执行的函数

var lianxi = setTimeout(function (n, b) {
            console.log('爆炸了');
            console.log(n + b);
        }, 5000, 9, 9);

进一步猜想:那能不能直接调用带有参数的函数呢？ 答案是可以的
        function callback(n, b) {
            console.log('爆炸了');
            console.log(n + b);
        }

var lianxi = setTimeout(callback, 5000, 9, 9);
```

### 2.  setInterval()

参数与settimeout类似，不同点在于，括号中的代码会无限运行下去，直到关闭当前窗口，或者定时器被清除掉。

实例:

```javascript
利用setInterval方法实现网页动画的例子
var div = document.getElementById('someDiv');
var opacity = 1;
var fader = setInterval(function() {
  opacity -= 0.1;
  if (opacity >= 0) {
    div.style.opacity = opacity;
  } else {
    clearInterval(fader);
  }
}, 100);

例子2:
可以写出很多类似的程序来。修改宽度，高度，进一步我们发现，凡是属性的属性值计量代码是数字常量。

疑问:
图片和颜色如何实时修改呢？

```



### 3.  清除定时器

clearInterval()

clearTimeout()

WindowOrWorkerGlobalScope内置的

clearTimeout()方法取消了先前通过调用setTimeout()建立的定时器

`setTimeout`和`setInterval`返回的整数值是连续的，也就是说，第二个`setTimeout`方法返回的整数值，将比第一个的整数值大1

看看他的猜想:

利用这一点，可以写一个函数，取消当前所有的`setTimeout`定时器。

思路:先获取整数值。

迭代，如果比他小的全部取消。







clearTimeout() 这个函数的复用率就特别高。

启发:在目前的学习阶段，有哪些需求是重复的，我能否写一个函数来解决这个问题。



