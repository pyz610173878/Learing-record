# 1. 浏览器生成消息- 探索浏览器内部


## 1.1 生成HTTP请求消息

### 1.  探索之旅从输入网址开始

问题 在浏览器中输入网站会发送什么

2.  url 的组成



第二段

1.  浏览器是一个具备多种客户端功能的综合性客户端软件。可以访问web服务器，下载和上传文件()，具备电子邮件客户端的功能。
2.  常见的url协议有哪些，作用是什么？ 具体的格式
3.  浏览器只能用来访问web服务器吗？如果不是他还能干什么？

```
概念
URL
浏览器 
服务器 web 服务器 FTPD 服务器
客户端 电子邮件客户端 多种客户端功能的综合性客户端软件
协议 http https FTP
域名 
```

第三段

1.  简要解释了`4`种不同URL 的格式以及他们之间的共性。(在上网的时候你可以观察多种多样的域名地址，)

举出4种常见的URL 组成部分。他们之间的共性是什么？

`HTTP` 文件路径名，

```
协议 
端口

```



```
闪念。
b站视频区的所有视频，都存放在www.bilibili.com域名对应的服务器中。
他有游戏中心，直播 漫画 赛事。这些都对应了不同的域名，他们没有放在同一个服务器中。分为多个模块，但是模块之间可以无缝连接。我猜耦合也不重。
所有这些视频肯定有公共的父类。
```







### 1.2 统一资源定位符的组成部分 以http协议为例子

示例

`https://user: password@ www.w3school.com.cn/80 tcpip/index.asp`

`https://wangdoc.com/javascript/basic/introduction.html`

最常见的就是这种 协议名 域名地址和文件路径名

`https://zh.javascript.info/`

另外一种 只有协议和域名 `/`的是意思是啥？  省略文件路径名？

`ftp://user:password@ftp.glasscom.com:21/dir/file1.htm`

### 协议 

定义 `通信操作的规则定义称为协议`

ftp 文件传送协议

浏览

浏览器是一个具备多种客户端功能的综合性客户端软件。

浏览器不仅仅只有访问**web**服务器这个功能，还可以用来下载文件，传输电子邮件。



需要进一步了解的问题

**浏览器的历史**

**浏览器的组成部分**

http协议 ftp协议  读取计算机本地文件不需要协议。

### 域名地址

### 端口号

### 用户名和密码(可选)

### 文件路径名

![64610691946](C:\Users\彭逸钊\AppData\Local\Temp\1646106919467.png)

`javascript/basic/introduction.html`

JavaScript为跟目录 basic是子目录 



但不管怎么说，当浏览器解析url时，根据不同的协议，访问不同的目标。









与之类似的有很多，比如gov后缀的这代表政府网站，cn后缀代表中国的网址。

不同点:

1. 从创建域名来说，有些个人无法创建，有些只能政府机关才能创建。









`tcpip/index.asp`:

这个属于存放web服务器数据的文件名。

`user:` 暂时理解不了。

`password@`：

`80`： 端口一个用来识别要连接的服务器程序的编号。不同的服务器程序会使用不同的编号，例如 Web 是 80，邮件是 25 等。

### 

### 

### 1.3 浏览器解析 URL & 省略文件名的情况

URL的组成部分





文件路径名的几种情况。

1.  不省略指定文件名
2.  指定文件夹，省略文件名(这种情况访问默认文件名)
3.  省略文件夹，与文件名。 访问 事先默认设置的文件





衍生知识  理解省略文件名的规则

## 1.4 HTTP 的基本思路（请求与响应)

### 简要描述 基本思路

![64637448477](1646374484770-1646374486695.png)

HTTP 协议定义了客户端和服务器之间交互的消息内容和步骤。

请你简要描述 基本思路。

客户端向服务器发送请求消息，请求消息包括 "对谁进行操作"，"进行怎样的操作"。



### 1.4.1 请求消息与响应消息的组成

​	"方法"表示服务器需要进行怎样的工作。常见的例子包括	      `get`与 `post` 。

get在汉语世界中对应着获取，该方法表示获取url中指定的数据。

举个例子 `https://pengyizhao.com/picture/life.html/`

这里表示的就是获取这个url地址中picture文件中的life.html页面。

数据表示的就是picture文件夹中的life.html文件. 数据可能包含了文字，图片，视频的html文字。 (**不仅仅是html文件，但是目前我也不清楚，所以先记录下来**。)

访问过程: 根据`URL`和需要获取的对应`数据`，web服务器收到`请求`，获取数据，数据返回给浏览器，最后浏览器处理数据，渲染出来。

post方法表示客户端(浏览器)输入的数据发送给服务器处理。服务器收到请求消息后，根据“方法与"URL"完成相应的工作，完成的结果存放在响应消息中。在响应开始的头部，存放着状态码，它表示执行的状态结果。

状态码的组成

![64758507014](1647585070142-1647585072598.png)

​	响应消息的组成

浏览器的工作状态决定了采用哪种""方法""，然后服务器按照此方法进行工作，

触发浏览器工作状态有很多种，不仅仅只有输入网址，(这里先记录下来)form表单



请求行

请求头

请求体

这些需要记忆的东西，就先不管了，目前知道了整个执行过程就行了。

响应头

响应头

响应体

在表单中输入信息存在get与post两种处理数据的情况。





### 1.1.6 响应消息的粗略介绍

第一段

1.  响应消息与请求消息之间的共同部分与不同部分。
2.  详细解释不同部分再哪里，响应行。
3.  响应行的组成     `状态码`    与   `状态短语`。
4.  解释他们之间的微妙差异。

![64638136757](1646381367576-1646381369437.png)

​	第二段

1.  返回消息后，浏览器处理数据，显示到屏幕中。

    第三段(先记录下来)

    ​

    **请求的特性**，一次只能发送一条url，也只能返回(处理)一次响应。

    ​



### 1.1.7 总结

验收方法: **请你描述浏览器（客户端)与 Web 服务器进行交互的整个过程**。

1.  url的组成部分
2.  http的基本思路(请求与响应的组成)

闪念

1.  根据请求的特性，我有点知道为什么需要性能优化了。
2.  这种精读的方法的很好用。(回顾写作课)
3.  不管是学习什么知识，都需要一种检验自己是否真的懂的验收方法。











HTTP 协议定义了客户端和服务器之间交互的消息内容和步 骤，其基
本思路非常简单。

















当服务端接收完毕请求消息后，根据这些要求完成相关的工作，然后将结果存放到响应消息中。响应消息发送给客户端，客户端收到数据，返回给浏览器进行渲染，显示到屏幕中。



发现:渲染存在渲染慢，无法访问。

响应消息发生给客户端缓慢，是什么原因造成的？







### 1.1.5 生成 HTTP 请求消息



![64540831199](C:\Users\彭逸钊\AppData\Local\Temp\1645408311998.png)





### 1.1.6 发送请求后会收到的响应





Web服务端发送数据的特性

每一条单独的请求只返回 1 条响应，即每次只能获取一个文件，如果网页中存在多个文件，那么只能一条一条返回响应。



当网页中包含图片时，会在网页中的相应位置嵌入表示图片文件的标签 A 的控制信息。

浏览器会在显示文字时搜索相应的标签，当遇到图片相关的标签时，会在屏幕上留出用来显示图片的空间，然后再次访问 Web 服务
器，按照标签中指定的文件名向 Web 服务器请求获取相应的图片并显示在预留的空间中。这个步骤和获取网页文件时一样，只要在 URI 部分写上图
片的文件名并生成和发送请求消息就可以了。
由于每条请求消息中只能写 1 个 URI，所以每次只能获取 1 个文件，
如果需要获取多个文件，必须对每个文件单独发送 1 条请求。比如 1 个
网页中包含 3 张图片，那么获取网页加上获取图片，一共需要向 Web 服务
器发送 4 条请求

